{"changed":true,"filter":false,"title":"script.js","tooltip":"/2-labbymezzage/script.js","value":"\"use strict\";\n\nvar MessageBoard = {\n    \n\n    messages : [],\n\n    renderMessages: function(){\n        document.getElementById(\"messageArea\").innerHTML = \"\";\n        for (var i=0; i<MessageBoard.messages.length;i++){\n            MessageBoard.renderMessage(i);\n        };\n    },\n\n    renderMessage: function(index){\n        var messageArea = document.getElementById(\"messageArea\");\n        var text = document.createElement(\"p\");\n        var remLink = document.createElement(\"a\");\n        var remPic = document.createElement(\"img\");\n        \n        remPic.setAttribute(\"id\", \"imgClose\");\n        remPic.setAttribute(\"src\", \"css/pics/remove_16.png\");\n        \n//        remLink.setAttribute(\"class\", \"Close\");\n        remLink.setAttribute(\"alt\", \"Close\");\n        remLink.setAttribute(\"href\", \"#\");\n        remLink.appendChild(remPic);    \n        text.appendChild(remLink); \n\n        text.innerHTML += MessageBoard.messages[index].getHTMLText();\n        messageArea.appendChild(text);\n\n\n\n\n        var time = document.createElement(\"p\");\n        time.setAttribute(\"id\", \"msgTime\");\n        var date = MessageBoard.messages[index].getDate();\n        var hours = date.getHours();\n        var minutes = date.getMinutes();\n        var seconds = date.getSeconds();\n        if (hours < 10){\n            hours = \"0\"+ hours;\n        }\n        if (minutes < 10){\n            minutes = \"0\"+ minutes;\n        }\n        if (seconds < 10){\n            seconds = \"0\"+ seconds;\n        }\n        time.innerHTML = hours + \":\" + minutes + \":\" + seconds;\n        text.appendChild(time);\n      \n        var messageID = document.createElement(\"p\");\n        messageID.setAttribute(\"id\", \"messageID\");        \n        messageID.innerHTML = index;\n        text.appendChild(messageID);        \n\n    },\n    \n    removeMessage: function(index){\n        MessageBoard.messages.splice(index, 1);\n        MessageBoard.renderMessages();\n    },\n    \n    init:function(){\n\n        var myButton = document.getElementById(\"sendButton\");\n        myButton.addEventListener(\"click\", function(e){\n            var f = this.parentNode;\n            var text = f.message.value;\n            var newMsg = new Message(text,new Date());\n            f.message.value = \"\";\n //           console.log(\"Antal meddelanden: \" + MessageBoard.messages.length);\n            MessageBoard.messages.push(newMsg);\n//            console.log(\"Antal meddelanden: \" + MessageBoard.messages.length);\n    \n            for (var i=0;i<MessageBoard.messages.length; i+=1)\n            {\n               console.log(MessageBoard.messages[i].toString() );\n            };\n            MessageBoard.renderMessages();\n            var count = document.getElementById(\"msgCount\");\n            count.innerHTML = \"Antal meddelanden: \" + MessageBoard.messages.length;\n //             MessageBoard.renderMessage(MessageBoard.messages.length-1);\n              e.preventDefault();             \n        });\n//        var remove = document.getElementById(\"messageArea\");\n/*        var remove = document.getElementsByClassName(\"imgClose\");\n          remove.onclick = function(){\n            var index = this;\n            MessageBoard.removeMessage(index);\n        };       \n        var remove2 = document.getElementsByClassName(\"Close\");\n          remove2.onclick = function(){\n            var index = this;\n            MessageBoard.removeMessage(index);\n        };       \n        var remove3 = document.getElementsByClassName(\"msgTag\");\n          remove3.onclick = function(){\n            var index = this;\n            MessageBoard.removeMessage(index);\n        };       \n*/        var remove4 = document.getElementById(\"messageArea\");\n          remove4.onclick = function(e){\n            console.log(e.target);\n            console.log(e.currentTarget);\n            console.log(e.target.parentNode);\n            console.log(e.target.parentNode.nodeValue);\n            console.log(e.target.parentNode.parentNode.lastChild);   \n            console.log(e.target.parentNode.parentNode.lastChild.firstChild);   \n            console.log(e.target.parentNode.parentNode.lastChild.firstChild.nodeValue);   \n                                \n        \n            var index = e.target.parentNode.parentNode.lastChild.firstChild.nodeValue;\n            \n            MessageBoard.removeMessage(index);\n        };  \n    }\n}; \n\nwindow.addEventListener(\"load\", MessageBoard.init);\n\n","undoManager":{"mark":86,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":113,"column":70},"end":{"row":113,"column":71},"action":"insert","lines":["C"]}]}],[{"group":"doc","deltas":[{"start":{"row":113,"column":71},"end":{"row":113,"column":72},"action":"insert","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":113,"column":72},"end":{"row":113,"column":73},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":113,"column":73},"end":{"row":113,"column":74},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":113,"column":74},"end":{"row":113,"column":75},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":114,"column":0},"end":{"row":115,"column":0},"action":"insert","lines":["            console.log(e.target.parentNode.parentNode.lastChild.firstChild);   ",""]}]}],[{"group":"doc","deltas":[{"start":{"row":114,"column":75},"end":{"row":114,"column":76},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":114,"column":76},"end":{"row":114,"column":77},"action":"insert","lines":["N"]}]}],[{"group":"doc","deltas":[{"start":{"row":114,"column":76},"end":{"row":114,"column":77},"action":"remove","lines":["N"]}]}],[{"group":"doc","deltas":[{"start":{"row":114,"column":76},"end":{"row":114,"column":77},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":114,"column":77},"end":{"row":114,"column":78},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":114,"column":78},"end":{"row":114,"column":79},"action":"insert","lines":["d"]},{"start":{"row":114,"column":79},"end":{"row":114,"column":80},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":114,"column":80},"end":{"row":114,"column":81},"action":"insert","lines":["V"]}]}],[{"group":"doc","deltas":[{"start":{"row":114,"column":81},"end":{"row":114,"column":82},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":114,"column":82},"end":{"row":114,"column":83},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":114,"column":83},"end":{"row":114,"column":84},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":114,"column":84},"end":{"row":114,"column":85},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":115,"column":0},"end":{"row":115,"column":70},"action":"remove","lines":["            console.log(e.target.parentNode.parentNode.nodeValue);    "]}]}],[{"group":"doc","deltas":[{"start":{"row":115,"column":0},"end":{"row":115,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":115,"column":4},"end":{"row":115,"column":8},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":115,"column":8},"end":{"row":115,"column":12},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":117,"column":24},"end":{"row":117,"column":28},"action":"remove","lines":["this"]},{"start":{"row":117,"column":24},"end":{"row":117,"column":85},"action":"insert","lines":["e.target.parentNode.parentNode.lastChild.firstChild.nodeValue"]}]}],[{"group":"doc","deltas":[{"start":{"row":61,"column":0},"end":{"row":61,"column":64},"action":"remove","lines":["/*        document.getElementById(\"messageArea\").innerHTML = \"\";"]}]}],[{"group":"doc","deltas":[{"start":{"row":61,"column":0},"end":{"row":62,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":64,"column":0},"end":{"row":65,"column":0},"action":"remove","lines":["*/        ",""]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":30},"end":{"row":61,"column":0},"action":"insert","lines":["",""]},{"start":{"row":61,"column":0},"end":{"row":61,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":61,"column":0},"end":{"row":61,"column":8},"action":"remove","lines":["        "]},{"start":{"row":61,"column":0},"end":{"row":61,"column":12},"action":"insert","lines":["MessageBoard"]}]}],[{"group":"doc","deltas":[{"start":{"row":61,"column":12},"end":{"row":61,"column":13},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":61,"column":13},"end":{"row":61,"column":14},"action":"insert","lines":["m"]},{"start":{"row":61,"column":14},"end":{"row":61,"column":15},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":61,"column":15},"end":{"row":61,"column":16},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":61,"column":16},"end":{"row":61,"column":17},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":61,"column":17},"end":{"row":61,"column":18},"action":"insert","lines":["a"]},{"start":{"row":61,"column":18},"end":{"row":61,"column":19},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":61,"column":19},"end":{"row":61,"column":20},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":61,"column":20},"end":{"row":61,"column":21},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":61,"column":21},"end":{"row":61,"column":22},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":61,"column":22},"end":{"row":61,"column":23},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":61,"column":23},"end":{"row":61,"column":24},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":61,"column":24},"end":{"row":61,"column":25},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":61,"column":25},"end":{"row":61,"column":26},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":61,"column":26},"end":{"row":61,"column":27},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":61,"column":27},"end":{"row":61,"column":28},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":61,"column":28},"end":{"row":61,"column":30},"action":"insert","lines":["()"]},{"start":{"row":61,"column":29},"end":{"row":61,"column":29},"action":"insert","lines":[""]}]}],[{"group":"doc","deltas":[{"start":{"row":61,"column":30},"end":{"row":61,"column":31},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":28},"end":{"row":60,"column":29},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":29},"end":{"row":60,"column":30},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":30},"end":{"row":60,"column":31},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":31},"end":{"row":60,"column":32},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":32},"end":{"row":60,"column":33},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":33},"end":{"row":60,"column":34},"action":"insert","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":34},"end":{"row":60,"column":35},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":35},"end":{"row":60,"column":36},"action":"insert","lines":["I"]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":35},"end":{"row":60,"column":36},"action":"remove","lines":["I"]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":34},"end":{"row":60,"column":35},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":33},"end":{"row":60,"column":34},"action":"remove","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":33},"end":{"row":60,"column":34},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":34},"end":{"row":60,"column":35},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":35},"end":{"row":60,"column":36},"action":"insert","lines":["I"]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":36},"end":{"row":60,"column":37},"action":"insert","lines":["D"]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":28},"end":{"row":60,"column":37},"action":"remove","lines":["messageID"]},{"start":{"row":60,"column":28},"end":{"row":60,"column":29},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":29},"end":{"row":60,"column":30},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":30},"end":{"row":60,"column":31},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":31},"end":{"row":60,"column":32},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":32},"end":{"row":60,"column":33},"action":"insert","lines":["x"]}]}],[{"group":"doc","deltas":[{"start":{"row":61,"column":29},"end":{"row":61,"column":30},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":61,"column":30},"end":{"row":61,"column":31},"action":"insert","lines":["n"]},{"start":{"row":61,"column":31},"end":{"row":61,"column":32},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":61,"column":32},"end":{"row":61,"column":33},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":61,"column":33},"end":{"row":61,"column":34},"action":"insert","lines":["x"]}]}],[{"group":"doc","deltas":[{"start":{"row":61,"column":34},"end":{"row":61,"column":35},"action":"insert","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":61,"column":35},"end":{"row":61,"column":36},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":61,"column":36},"end":{"row":61,"column":37},"action":"insert","lines":["1"]}]}],[{"group":"doc","deltas":[{"start":{"row":61,"column":0},"end":{"row":61,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":61,"column":4},"end":{"row":61,"column":8},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":0},"end":{"row":63,"column":0},"action":"remove","lines":["        for (var i=0; i<MessageBoard.messages.length;i++){",""]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":42},"end":{"row":63,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":0},"end":{"row":62,"column":4},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":35},"end":{"row":62,"column":36},"action":"remove","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":34},"end":{"row":62,"column":35},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":38},"end":{"row":62,"column":39},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":38},"end":{"row":62,"column":39},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":38},"end":{"row":62,"column":39},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":38},"end":{"row":62,"column":39},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":38},"end":{"row":62,"column":39},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":38},"end":{"row":62,"column":39},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":38},"end":{"row":62,"column":39},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":38},"end":{"row":62,"column":39},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":38},"end":{"row":62,"column":39},"action":"remove","lines":["}"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":38},"end":{"row":62,"column":39},"action":"remove","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":38},"end":{"row":62,"column":39},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":39},"end":{"row":62,"column":40},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":40},"end":{"row":62,"column":41},"action":"insert","lines":["t"]},{"start":{"row":62,"column":41},"end":{"row":62,"column":42},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":42},"end":{"row":62,"column":43},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":43},"end":{"row":62,"column":44},"action":"insert","lines":["o"]},{"start":{"row":62,"column":44},"end":{"row":62,"column":45},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":45},"end":{"row":62,"column":46},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":45},"end":{"row":62,"column":46},"action":"remove","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":44},"end":{"row":62,"column":45},"action":"remove","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":43},"end":{"row":62,"column":44},"action":"remove","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":42},"end":{"row":62,"column":43},"action":"remove","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":41},"end":{"row":62,"column":42},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":40},"end":{"row":62,"column":41},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":39},"end":{"row":62,"column":40},"action":"remove","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":38},"end":{"row":62,"column":39},"action":"remove","lines":["g"]}]}]]},"ace":{"folds":[],"scrolltop":669.25,"scrollleft":0,"selection":{"start":{"row":62,"column":38},"end":{"row":62,"column":38},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":37,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1416921327821}