{"filter":false,"title":"script.js","tooltip":"/2-labbymezzage/script.js","undoManager":{"mark":100,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":22,"column":24},"end":{"row":22,"column":25},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":25},"end":{"row":22,"column":26},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":26},"end":{"row":22,"column":27},"action":"insert","lines":["d"]},{"start":{"row":22,"column":27},"end":{"row":22,"column":28},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":29},"end":{"row":22,"column":30},"action":"insert","lines":["\""]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":38},"end":{"row":22,"column":39},"action":"insert","lines":["\""]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":40},"end":{"row":22,"column":41},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":37},"end":{"row":22,"column":38},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":36},"end":{"row":22,"column":37},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":35},"end":{"row":22,"column":36},"action":"remove","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":34},"end":{"row":22,"column":35},"action":"remove","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":34},"end":{"row":22,"column":35},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":35},"end":{"row":22,"column":36},"action":"insert","lines":["o"]},{"start":{"row":22,"column":36},"end":{"row":22,"column":37},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":37},"end":{"row":22,"column":38},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":8},"end":{"row":22,"column":9},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":9},"end":{"row":22,"column":10},"action":"insert","lines":["/"]},{"start":{"row":22,"column":10},"end":{"row":22,"column":11},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":15,"column":64},"end":{"row":15,"column":65},"action":"remove","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":15,"column":64},"end":{"row":15,"column":65},"action":"insert","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":46},"end":{"row":16,"column":47},"action":"remove","lines":[";"]},{"start":{"row":16,"column":46},"end":{"row":16,"column":47},"action":"insert","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":11},"end":{"row":16,"column":12},"action":"remove","lines":[" "]},{"start":{"row":16,"column":10},"end":{"row":16,"column":11},"action":"remove","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":9},"end":{"row":16,"column":10},"action":"remove","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":8},"end":{"row":16,"column":9},"action":"remove","lines":["v"]}]}],[{"group":"doc","deltas":[{"start":{"row":17,"column":49},"end":{"row":17,"column":50},"action":"remove","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":17,"column":49},"end":{"row":17,"column":50},"action":"insert","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":50},"end":{"row":18,"column":51},"action":"remove","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":50},"end":{"row":18,"column":51},"action":"insert","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":50},"end":{"row":19,"column":51},"action":"remove","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":50},"end":{"row":19,"column":51},"action":"insert","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":11},"end":{"row":20,"column":12},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":10},"end":{"row":20,"column":11},"action":"remove","lines":["r"]},{"start":{"row":20,"column":9},"end":{"row":20,"column":10},"action":"remove","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":8},"end":{"row":20,"column":9},"action":"remove","lines":["v"]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":8},"end":{"row":19,"column":9},"action":"remove","lines":["v"]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":8},"end":{"row":19,"column":9},"action":"remove","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":8},"end":{"row":19,"column":9},"action":"remove","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":8},"end":{"row":19,"column":9},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":8},"end":{"row":18,"column":9},"action":"remove","lines":["v"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":8},"end":{"row":18,"column":9},"action":"remove","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":8},"end":{"row":18,"column":9},"action":"remove","lines":["r"]},{"start":{"row":18,"column":8},"end":{"row":18,"column":9},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":17,"column":8},"end":{"row":17,"column":9},"action":"remove","lines":["v"]},{"start":{"row":17,"column":8},"end":{"row":17,"column":9},"action":"remove","lines":["a"]},{"start":{"row":17,"column":8},"end":{"row":17,"column":9},"action":"remove","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":17,"column":8},"end":{"row":17,"column":9},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":0},"end":{"row":16,"column":4},"action":"insert","lines":["    "]},{"start":{"row":17,"column":0},"end":{"row":17,"column":4},"action":"insert","lines":["    "]},{"start":{"row":18,"column":0},"end":{"row":18,"column":4},"action":"insert","lines":["    "]},{"start":{"row":19,"column":0},"end":{"row":19,"column":4},"action":"insert","lines":["    "]},{"start":{"row":20,"column":0},"end":{"row":20,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":23,"column":33},"end":{"row":23,"column":34},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":23,"column":32},"end":{"row":23,"column":33},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":23,"column":31},"end":{"row":23,"column":32},"action":"remove","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":23,"column":30},"end":{"row":23,"column":31},"action":"remove","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":23,"column":29},"end":{"row":23,"column":30},"action":"remove","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":23,"column":29},"end":{"row":23,"column":30},"action":"insert","lines":["i"]},{"start":{"row":23,"column":30},"end":{"row":23,"column":31},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":43},"end":{"row":44,"column":44},"action":"remove","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":43},"end":{"row":44,"column":44},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":44},"end":{"row":44,"column":45},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":44},"end":{"row":44,"column":45},"action":"remove","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":43},"end":{"row":44,"column":44},"action":"remove","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":8},"end":{"row":63,"column":17},"action":"remove","lines":["messageID"]},{"start":{"row":63,"column":8},"end":{"row":63,"column":9},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":9},"end":{"row":63,"column":10},"action":"insert","lines":["e"]},{"start":{"row":63,"column":10},"end":{"row":63,"column":11},"action":"insert","lines":["x"]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":11},"end":{"row":63,"column":12},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":28},"end":{"row":63,"column":29},"action":"remove","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":27},"end":{"row":63,"column":28},"action":"remove","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":27},"end":{"row":63,"column":28},"action":"insert","lines":["d"]},{"start":{"row":63,"column":28},"end":{"row":63,"column":29},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":29},"end":{"row":63,"column":30},"action":"insert","lines":["t"]},{"start":{"row":63,"column":30},"end":{"row":63,"column":31},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":31},"end":{"row":63,"column":32},"action":"insert","lines":["-"]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":32},"end":{"row":63,"column":33},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":33},"end":{"row":63,"column":34},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":65,"column":7},"end":{"row":65,"column":8},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":65,"column":8},"end":{"row":65,"column":9},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":47},"end":{"row":63,"column":48},"action":"remove","lines":["\""]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":46},"end":{"row":63,"column":47},"action":"remove","lines":["D"]},{"start":{"row":63,"column":45},"end":{"row":63,"column":46},"action":"remove","lines":["I"]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":44},"end":{"row":63,"column":45},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":43},"end":{"row":63,"column":44},"action":"remove","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":42},"end":{"row":63,"column":43},"action":"remove","lines":["a"]},{"start":{"row":63,"column":41},"end":{"row":63,"column":42},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":40},"end":{"row":63,"column":41},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":39},"end":{"row":63,"column":40},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":38},"end":{"row":63,"column":39},"action":"remove","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":37},"end":{"row":63,"column":38},"action":"remove","lines":["\""]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":37},"end":{"row":63,"column":38},"action":"insert","lines":["i"]},{"start":{"row":63,"column":38},"end":{"row":63,"column":39},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":39},"end":{"row":63,"column":40},"action":"insert","lines":["d"]},{"start":{"row":63,"column":40},"end":{"row":63,"column":41},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":41},"end":{"row":63,"column":42},"action":"insert","lines":["x"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":2},"end":{"row":62,"column":3},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":3},"end":{"row":62,"column":4},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":64,"column":0},"end":{"row":64,"column":1},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":64,"column":1},"end":{"row":64,"column":2},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":43},"end":{"row":44,"column":44},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":47},"end":{"row":8,"column":56},"action":"remove","lines":["innerHTML"]},{"start":{"row":8,"column":47},"end":{"row":8,"column":48},"action":"insert","lines":["V"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":48},"end":{"row":8,"column":49},"action":"insert","lines":["A"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":49},"end":{"row":8,"column":50},"action":"insert","lines":["L"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":50},"end":{"row":8,"column":51},"action":"insert","lines":["U"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":51},"end":{"row":8,"column":52},"action":"insert","lines":["E"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":51},"end":{"row":8,"column":52},"action":"remove","lines":["E"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":50},"end":{"row":8,"column":51},"action":"remove","lines":["U"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":49},"end":{"row":8,"column":50},"action":"remove","lines":["L"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":48},"end":{"row":8,"column":49},"action":"remove","lines":["A"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":47},"end":{"row":8,"column":48},"action":"remove","lines":["V"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":47},"end":{"row":8,"column":48},"action":"insert","lines":["v"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":48},"end":{"row":8,"column":49},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":49},"end":{"row":8,"column":50},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":50},"end":{"row":8,"column":51},"action":"insert","lines":["u"]},{"start":{"row":8,"column":51},"end":{"row":8,"column":52},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":0},"end":{"row":88,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":4},"end":{"row":88,"column":8},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":8},"end":{"row":88,"column":66},"action":"insert","lines":["        document.getElementById(\"messageArea\").value = \"\";"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":12},"end":{"row":88,"column":16},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":8},"end":{"row":88,"column":12},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":173,"column":0},"action":"remove","lines":["\"use strict\";","","var MessageBoard = {","    ","","    messages : [],","","    renderMessages: function(){","        document.getElementById(\"messageArea\").value = \"\";","        for (var i=0; i<MessageBoard.messages.length;i++){","            MessageBoard.renderMessage(i);","        };","    },","","    renderMessage: function(index){","        var messageArea = document.getElementById(\"messageArea\"),","            text = document.createElement(\"p\"),","            remLink = document.createElement(\"a\"),","            remPic = document.createElement(\"img\"),","            timeLink = document.createElement(\"a\"),","            timePic = document.createElement(\"img\");","        ","        // remPic.classList.add(\"imgClose\");","        remPic.setAttribute(\"id\", \"imgClose\");   // Varför funkar inte class ?? hur många element med id=imgClose kan man skapa?","        remPic.setAttribute(\"src\", \"css/pics/remove_16.png\");","","        timePic.setAttribute(\"id\", \"imgClose\");","        timePic.setAttribute(\"src\", \"css/pics/time_16.png\");","                ","//        remLink.setAttribute(\"class\", \"Close\");","        remLink.setAttribute(\"alt\", \"Close\");","        remLink.setAttribute(\"href\", \"#\");","        remLink.appendChild(remPic);    ","        text.appendChild(remLink); ","","        timeLink.setAttribute(\"alt\", \"Time\");","        timeLink.setAttribute(\"href\", \"#\");","        timeLink.appendChild(timePic);    ","        text.appendChild(timeLink); ","        ","        text.innerHTML += MessageBoard.messages[index].getHTMLText();","        messageArea.appendChild(text);","","","        var time = document.createElement(\"p\");","        time.setAttribute(\"id\", \"msgTime\");","        var date = MessageBoard.messages[index].getDate();","        var hours = date.getHours();","        var minutes = date.getMinutes();","        var seconds = date.getSeconds();","        if (hours < 10){","            hours = \"0\"+ hours;","        }","        if (minutes < 10){","            minutes = \"0\"+ minutes;","        }","        if (seconds < 10){","            seconds = \"0\"+ seconds;","        }","        time.innerHTML = hours + \":\" + minutes + \":\" + seconds;","        text.appendChild(time);","      ","  //      var messageID = document.createElement(\"p\");","        text.setAttribute(\"data-id\", index);        ","//        messageID.innerHTML = index;","       // text.appendChild(messageID);        ","","    },","    ","    removeMessage: function(index){","","        if (window.confirm(\"Vill du verkligen radera meddelandet?\")) { ","            MessageBoard.messages.splice(index, 1);","            MessageBoard.renderMessages();","            var count = document.getElementById(\"msgCount\");","            count.innerHTML = \"Antal meddelanden: \" + MessageBoard.messages.length;        ","        }","    },","    alertTime: function(index){","        var date = MessageBoard.messages[index].getDate();","        var monthNames = [ \"Januari\", \"Februari\", \"Mars\", \"April\", \"Maj\", \"Juni\",","            \"Juli\", \"Augusti\", \"September\", \"Oktober\", \"November\", \"December\" ];","    ","        var text = \"Inlägget skapades den \" + date.getDate() + \" \" +  monthNames[date.getMonth()] + \" \" + date.getFullYear() + \" klockan \" + date.toLocaleTimeString(); ","        alert(text);","        ","    },    ","    init:function(){","        document.getElementById(\"messageArea\").value = \"\";","        var myButton = document.getElementById(\"sendButton\");","        myButton.addEventListener(\"click\", function(e){","            var f = this.parentNode;","            var text = f.message.value;","            var newMsg = new Message(text,new Date());","            f.message.value = \"\";","            MessageBoard.messages.push(newMsg);","","            for (var i=0;i<MessageBoard.messages.length; i+=1)","            {","               console.log(MessageBoard.messages[i].toString() );","            };","            MessageBoard.renderMessages();","            var count = document.getElementById(\"msgCount\");","            count.innerHTML = \"Antal meddelanden: \" + MessageBoard.messages.length;"," //             MessageBoard.renderMessage(MessageBoard.messages.length-1);","              e.preventDefault();             ","        });","//        var remove = document.getElementById(\"messageArea\");","/*        var remove = document.getElementsByClassName(\"imgClose\");","          remove.onclick = function(){","            var index = this;","            MessageBoard.removeMessage(index);","        };       ","        var remove2 = document.getElementsByClassName(\"Close\");","          remove2.onclick = function(){","            var index = this;","            MessageBoard.removeMessage(index);","        };       ","        var remove3 = document.getElementsByClassName(\"msgTag\");","          remove3.onclick = function(){","            var index = this;","            MessageBoard.removeMessage(index);","        };       ","*/      var remove4 = document.getElementById(\"messageArea\");","        remove4.onclick = function(e){","            console.log(e.target);","            console.log(e.currentTarget);","            console.log(e.target.parentNode);","            console.log(e.target.parentNode.parentNode.lastChild);  ","","                        ","            console.log(e.target.parentNode.parentNode.lastChild.firstChild);   ","            console.log(e.target.parentNode.parentNode.lastChild.firstChild.nodeValue);   ","                                ","            if (e.target.parentNode.getAttribute(\"alt\") === \"Close\"){","                var index = e.target.parentNode.parentNode.lastChild.firstChild.nodeValue;","                MessageBoard.removeMessage(index);","            }","            if (e.target.parentNode.getAttribute(\"alt\") === \"Time\"){","                var index = e.target.parentNode.parentNode.lastChild.firstChild.nodeValue;","                MessageBoard.alertTime(index);","            }           ","        };  ","        var remove5 = document.getElementById(\"messageInput\");","        remove5.onkeypress = function(e){","            console.log(e.target);","            console.log(e.currentTarget);","            console.log(e.target.parentNode);","            if (!e) var e = window.event;","            if ((e.keyCode == 13) && !e.shiftKey){","                ","                var f = this.parentNode.parentNode.parentNode;","                var text = f.message.value;","                var newMsg = new Message(text,new Date());","                f.message.value = \"\";","                MessageBoard.messages.push(newMsg);","    ","                for (var i=0;i<MessageBoard.messages.length; i+=1)","                {","                   console.log(MessageBoard.messages[i].toString() );","                };","                MessageBoard.renderMessages();","                var count = document.getElementById(\"msgCount\");","                count.innerHTML = \"Antal meddelanden: \" + MessageBoard.messages.length;","     //             MessageBoard.renderMessage(MessageBoard.messages.length-1);","                e.preventDefault();                  ","            };","        };","    }","}; ","","window.addEventListener(\"load\", MessageBoard.init);","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":139,"column":0},"action":"insert","lines":["\"use strict\";","","var MessageBoard = {","    ","","    messages : [],","","    renderMessages: function(){","        document.getElementById(\"messageArea\").innerHTML = \"\";","        for (var i=0; i<MessageBoard.messages.length;i++){","            MessageBoard.renderMessage(i);","        };","    },","","    renderMessage: function(index){","        var messageArea = document.getElementById(\"messageArea\"),","            text = document.createElement(\"div\"),","            remLink = document.createElement(\"a\"),","            remPic = document.createElement(\"img\"),","            timeLink = document.createElement(\"a\"),","            timePic = document.createElement(\"img\"),","            time = document.createElement(\"div\");","        ","        text.setAttribute(\"data-messageID\", index);        ","","        remPic.classList.add(\"imgClose\");","        remPic.setAttribute(\"src\", \"css/pics/remove_16.png\");","","        timePic.classList.add(\"imgTime\");","        timePic.setAttribute(\"src\", \"css/pics/time_16.png\");","                ","        remLink.setAttribute(\"title\", \"Close\");","        remLink.setAttribute(\"href\", \"#\");","        remLink.appendChild(remPic);    ","        text.appendChild(remLink); ","","        timeLink.setAttribute(\"title\", \"Time\");","        timeLink.setAttribute(\"href\", \"#\");","        timeLink.appendChild(timePic);    ","        text.appendChild(timeLink); ","        ","        text.innerHTML += MessageBoard.messages[index].getHTMLText();","","","        time.classList.add(\"msgTime\");        ","        var date = MessageBoard.messages[index].getDate();","        var hours = date.getHours();","        var minutes = date.getMinutes();","        var seconds = date.getSeconds();","        if (hours < 10){","            hours = \"0\"+ hours;","        }","        if (minutes < 10){","            minutes = \"0\"+ minutes;","        }","        if (seconds < 10){","            seconds = \"0\"+ seconds;","        }","        time.innerHTML = hours + \":\" + minutes + \":\" + seconds;","        text.appendChild(time);","","        messageArea.appendChild(text);      ","    },","    ","    removeMessage: function(index){","        var count;","        if (window.confirm(\"Vill du verkligen radera meddelandet?\")) { ","            MessageBoard.messages.splice(index, 1);","            MessageBoard.renderMessages();","            count = document.getElementById(\"msgCount\");","            count.innerHTML = \"Antal meddelanden: \" + MessageBoard.messages.length;        ","        }","    },","    alertTime: function(index){","        var date = MessageBoard.messages[index].getDate();","        var monthNames = [ \"Januari\", \"Februari\", \"Mars\", \"April\", \"Maj\", \"Juni\",","            \"Juli\", \"Augusti\", \"September\", \"Oktober\", \"November\", \"December\" ];","    ","        var text = \"Inlägget skapades den \" + date.getDate() + \" \" +  monthNames[date.getMonth()] + \" \" + date.getFullYear() + \" klockan \" + date.toLocaleTimeString(); ","        alert(text);","        ","    },    ","    init:function(){","        document.getElementById(\"messageInput\").value = \"\";","        var myButton = document.getElementById(\"sendButton\");","        myButton.addEventListener(\"click\", function(e){","            var f = this.parentNode;","            var text = f.message.value;","            var newMsg = new Message(text,new Date());","            f.message.value = \"\";","            MessageBoard.messages.push(newMsg);","","            MessageBoard.renderMessages();","            var count = document.getElementById(\"msgCount\");","            count.innerHTML = \"Antal meddelanden: \" + MessageBoard.messages.length;"," //             MessageBoard.renderMessage(MessageBoard.messages.length-1);","              e.preventDefault();             ","        });"," ","        var remove = document.getElementById(\"messageArea\");","        remove.onclick = function(e){","            var index;","            if (e.target.parentNode.getAttribute(\"title\") === \"Close\"){","                index = e.target.parentNode.parentNode.getAttribute(\"data-messageID\");","                MessageBoard.removeMessage(index);","            }","            if (e.target.parentNode.getAttribute(\"title\") === \"Time\"){","                index = e.target.parentNode.parentNode.getAttribute(\"data-messageID\");","                MessageBoard.alertTime(index);","            }           ","        };  ","        var checkKey = document.getElementById(\"messageInput\");","        checkKey.onkeypress = function(e){","","            if (!e) var e = window.event;","            if ((e.keyCode == 13) && !e.shiftKey){","                ","                var f = this.parentNode.parentNode.parentNode;","                var text = f.message.value;","                var newMsg = new Message(text,new Date());","                f.message.value = \"\";","                MessageBoard.messages.push(newMsg);","    ","                for (var i=0;i<MessageBoard.messages.length; i+=1)","                {","                   console.log(MessageBoard.messages[i].toString() );","                };","                MessageBoard.renderMessages();","                var count = document.getElementById(\"msgCount\");","                count.innerHTML = \"Antal meddelanden: \" + MessageBoard.messages.length;","     //             MessageBoard.renderMessage(MessageBoard.messages.length-1);","                e.preventDefault();                  ","            };","        };","    }","}; ","","window.addEventListener(\"load\", MessageBoard.init);","",""]}]}]]},"ace":{"folds":[],"scrolltop":362.6334228515625,"scrollleft":0,"selection":{"start":{"row":22,"column":8},"end":{"row":22,"column":8},"isBackwards":true},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":21,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1417087241980,"hash":"2e6bebd55b21ddacfbb79fc793cdf62aa58ca5f5"}